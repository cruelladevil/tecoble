{"componentChunkName":"component---src-templates-post-tsx","path":"/post/2021-05-25-transactional/","result":{"data":{"logo":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png","srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/a9770/tecoble.png 400w","sizes":"400px"},"sources":[{"srcSet":"/static/0b18bd94a62a12fdc81ea720c28722f6/65935/tecoble.webp 400w","type":"image/webp","sizes":"400px"}]},"width":500,"height":110}}},"markdownRemark":{"html":"<p style=\"font-family: sans-serif; text-align: center; color: #aaa; margin-bottom: 3em; font-size: 85%\">image origin: <a href=\"https://spotio.com/blog/transactional-selling/\">spotio.com</a></p>\n<h2>@Transactional</h2>\n<p>스프링은 <code class=\"language-text\">@Transactional</code> 어노테이션을 이용한 선언적 트랜잭션 처리를 지원한다.</p>\n<p>이번 글에서는 아래 내용에 대해 알아볼 것이다.</p>\n<ul>\n<li>트랜잭션이 무엇인지</li>\n<li>스프링에서 <code class=\"language-text\">@Transactional</code> 을 이용하여 트랜잭션 처리를 하는 방법</li>\n<li>테스트 환경에서의 <code class=\"language-text\">@Transactional</code> 동작</li>\n</ul>\n<hr>\n<h3>트랜잭션(Transaction)이란?</h3>\n<p>트랜잭션은 우리말로 ‘거래’라는 뜻을 갖고 있으므로, 먼저 거래와 관련된 간단한 예시를 들어보겠다.</p>\n<p>어떤 사람과 거래를 하고 있는 상황이다.</p>\n<ul>\n<li>물건을 받기 위해 상대방에게 선입금을 했다.</li>\n<li>그런데 벽돌이 도착했다.</li>\n</ul>\n<p>사기당한 사실을 깨닫고 나면, 시간을 되돌리고 싶지 않을까?</p>\n<p>트랜잭션 개념은 이를 가능하게 한다.</p>\n<p>상대방에게 입금하는 작업이 성공했더라도 원하던 물건을 받지 못했다면 입금이 취소되었을 것이다.</p>\n<p>모든 작업들이 성공적으로 완료되어야 작업 묶음의 결과를 적용하고, 어떤 작업에서 오류가 발생했을 때는 이전에 있던 모든 작업들이 성공적이었더라도 없었던 일처럼 완전히 되돌리는 것이 트랜잭션의 개념이다.</p>\n<p>데이터베이스를 다룰 때 트랜잭션을 적용하면 데이터 추가, 갱신, 삭제 등으로 이루어진 작업을 처리하던 중 오류가 발생했을 때 <strong>모든 작업들을 원상태로 되돌릴 수 있다</strong>. 모든 작업들이 성공해야만 최종적으로 데이터베이스에 반영하도록 한다.</p>\n<hr>\n<h3>스프링에서 <code class=\"language-text\">@Transactional</code> 을 이용하여 트랜잭션 처리를 하는 방법</h3>\n<p>DB와 관련된, 트랜잭션이 필요한 서비스 클래스 혹은 메서드에 <code class=\"language-text\">@Transactional</code> 어노테이션을 달아주면된다.</p>\n<p>클래스, 메서드 모두에 <code class=\"language-text\">@Transactional</code> 어노테이션을 붙이면 메서드 레벨의 <code class=\"language-text\">@Transactional</code> 선언이 우선 적용된다.</p>\n<p><code class=\"language-text\">java\n//게시판의 게시글을 삭제하는 메서드\n@Transactional\npublic void removeBoard(Long id) throws Exception {\n    replyDAO.removeAll(id);  //삭제할 게시글의 답글 삭제\n    boardDAO.deleteBoard(id); //게시글 삭제\n}\n</code></p>\n<p><code class=\"language-text\">@Transactional</code>이 붙은 메서드는 메서드가 포함하고 있는 작업 중에 하나라도 실패할 경우 전체 작업을 취소한다.</p>\n<hr>\n<h3>테스트 환경에서의 <code class=\"language-text\">@Transactional</code> 동작</h3>\n<p>테스트 메서드에 <code class=\"language-text\">@Transactional</code>을 사용하면 트랜잭션으로 감싸지며, 메서드가 종료될 때 자동으로 롤백된다.</p>\n<p>이유가 뭘까?</p>\n<p><code class=\"language-text\">org.springframework.test.context.transaction.TestTransaction</code> 클래스를 이용해 알아보자.</p>\n<h3>TestTransaction</h3>\n<p><code class=\"language-text\">TestTransaction</code> 클래스는 <code class=\"language-text\">@Transactional</code> 이 적용된 테스트 메서드를 감싸고 있는 트랜잭션과 상호 작용할 수 있는 기능을 가지는 유틸리티 클래스이다.</p>\n<p>테스트 환경에서 아래 코드를 실행시켜보자. 현재 동작 중인 트랜잭션이 있는지 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token function\">assertTrue</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TestTransaction</span><span class=\"token punctuation\">.</span><span class=\"token function\">isActive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>아래 코드도 실행시켜보자. 롤백 옵션이 적용되어 있는지 확인할 수 있는데, 디폴트로 롤백 옵션이 적용되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token function\">assertTrue</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TestTransaction</span><span class=\"token punctuation\">.</span><span class=\"token function\">isFlaggedForRollback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>롤백 옵션을 바꾸고 싶다면 아래 코드를 통해 변경할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TestTransaction</span><span class=\"token punctuation\">.</span><span class=\"token function\">flagForCommit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token class-name\">TestTransaction</span><span class=\"token punctuation\">.</span><span class=\"token function\">flagForRollback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>주의할 점</h4>\n<p><strong>롤백되지 않는 경우</strong></p>\n<p><code class=\"language-text\">WebEnvironment</code>의 <code class=\"language-text\">RANDOM_PORT</code>, <code class=\"language-text\">DEFINED_PORT</code>를 사용하면 실제 테스트 서버는 별도의 스레드에서 테스트를 수행하기 때문에 트랜잭션이 롤백되지 않는다.</p>\n<hr>\n<p><strong><code class=\"language-text\">id</code>는 롤백되지 않는다.</strong></p>\n<p>주로 <code class=\"language-text\">insert</code> 작업을 할 때 <code class=\"language-text\">id(식별자)</code>가 자동으로 증가하도록  <code class=\"language-text\">Auto Increment</code> 옵션을 적용하곤 하는데,\n트랜잭션에 포함된 <code class=\"language-text\">insert</code> 작업으로 인해 증가한 <code class=\"language-text\">id</code>는 트랜잭션이 롤백되어도 다시 감소하지 않는다.</p>\n<p><code class=\"language-text\">Auto Increment</code> 옵션은 트랜잭션의 범위 밖에서 동작하기 때문이다.</p>\n<p>트랜잭션 범위 안에서 동작하면 같이 롤백되고 <code class=\"language-text\">id</code>도 순서대로 부여할 수 있기 때문에 편할 것 같은데 왜 그럴까? 바로 동시성 때문이다.</p>\n<p>여러 사람이 동시에 한 사이트에 회원가입을 하는 상황을 생각해보자.</p>\n<p>각각 <code class=\"language-text\">insert</code> 문이 포함된 트랜잭션이 진행되는데, 중복된 아이디 혹은 올바르지 않은 양식의 아이디 입력 등 여러 요인으로 인해 트랜잭션이 실패할 수도 있고, 성공할 수도 있다.</p>\n<p>각 트랜잭션이 다른 사람의 회원 가입 트랜잭션 성공 여부를 기다렸다가 <code class=\"language-text\">id</code>를 부여받기엔 얼마나 기다려야 될 지 모르는 일이다.</p>\n<p>따라서 <code class=\"language-text\">Auto Increment</code> 는 트랜잭션과 별개로 동작한다.</p>\n<hr>\n<h3>결론</h3>\n<p>일련의 작업들을 묶어서 하나의 단위로 처리하고 싶다면 <code class=\"language-text\">@Transactional</code>을 활용하자.</p>\n<p>프로덕션 환경과 테스트 환경 각각에서의 동작 방식을 유념하여 사용하자.</p>\n<hr>\n<h3>Reference</h3>\n<p><a href=\"https://stackoverflow.com/questions/14758625/mysql-auto-increment-columns-on-transaction-commit-and-rollback\">https://stackoverflow.com/questions/14758625/mysql-auto-increment-columns-on-transaction-commit-and-rollback</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/transaction/TransactionalTestExecutionListener.html\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/transaction/TransactionalTestExecutionListener.html</a></p>\n<p><a href=\"https://www.baeldung.com/spring-test-programmatic-transactions\">https://www.baeldung.com/spring-test-programmatic-transactions</a></p>\n<p><a href=\"https://goddaehee.tistory.com/211\">https://goddaehee.tistory.com/211</a></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{"style":"font-family: sans-serif; text-align: center; color: #aaa; margin-bottom: 3em; font-size: 85%"},"children":[{"type":"text","value":"image origin: "},{"type":"element","tagName":"a","properties":{"href":"https://spotio.com/blog/transactional-selling/"},"children":[{"type":"text","value":"spotio.com"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스프링은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 어노테이션을 이용한 선언적 트랜잭션 처리를 지원한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번 글에서는 아래 내용에 대해 알아볼 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"트랜잭션이 무엇인지"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"스프링에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 을 이용하여 트랜잭션 처리를 하는 방법"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"테스트 환경에서의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 동작"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"트랜잭션(Transaction)이란?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"트랜잭션은 우리말로 ‘거래’라는 뜻을 갖고 있으므로, 먼저 거래와 관련된 간단한 예시를 들어보겠다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"어떤 사람과 거래를 하고 있는 상황이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"물건을 받기 위해 상대방에게 선입금을 했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"그런데 벽돌이 도착했다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"사기당한 사실을 깨닫고 나면, 시간을 되돌리고 싶지 않을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"트랜잭션 개념은 이를 가능하게 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"상대방에게 입금하는 작업이 성공했더라도 원하던 물건을 받지 못했다면 입금이 취소되었을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모든 작업들이 성공적으로 완료되어야 작업 묶음의 결과를 적용하고, 어떤 작업에서 오류가 발생했을 때는 이전에 있던 모든 작업들이 성공적이었더라도 없었던 일처럼 완전히 되돌리는 것이 트랜잭션의 개념이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스를 다룰 때 트랜잭션을 적용하면 데이터 추가, 갱신, 삭제 등으로 이루어진 작업을 처리하던 중 오류가 발생했을 때 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"모든 작업들을 원상태로 되돌릴 수 있다"}]},{"type":"text","value":". 모든 작업들이 성공해야만 최종적으로 데이터베이스에 반영하도록 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"스프링에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 을 이용하여 트랜잭션 처리를 하는 방법"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DB와 관련된, 트랜잭션이 필요한 서비스 클래스 혹은 메서드에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 어노테이션을 달아주면된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"클래스, 메서드 모두에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 어노테이션을 붙이면 메서드 레벨의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 선언이 우선 적용된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"java\n//게시판의 게시글을 삭제하는 메서드\n@Transactional\npublic void removeBoard(Long id) throws Exception {\n    replyDAO.removeAll(id);  //삭제할 게시글의 답글 삭제\n    boardDAO.deleteBoard(id); //게시글 삭제\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"이 붙은 메서드는 메서드가 포함하고 있는 작업 중에 하나라도 실패할 경우 전체 작업을 취소한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"테스트 환경에서의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 동작"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"테스트 메서드에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"을 사용하면 트랜잭션으로 감싸지며, 메서드가 종료될 때 자동으로 롤백된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이유가 뭘까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"org.springframework.test.context.transaction.TestTransaction"}]},{"type":"text","value":" 클래스를 이용해 알아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"text","value":" 클래스는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":" 이 적용된 테스트 메서드를 감싸고 있는 트랜잭션과 상호 작용할 수 있는 기능을 가지는 유틸리티 클래스이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"테스트 환경에서 아래 코드를 실행시켜보자. 현재 동작 중인 트랜잭션이 있는지 확인할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"assertTrue"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"isActive"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"아래 코드도 실행시켜보자. 롤백 옵션이 적용되어 있는지 확인할 수 있는데, 디폴트로 롤백 옵션이 적용되어 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"assertTrue"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"isFlaggedForRollback"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"롤백 옵션을 바꾸고 싶다면 아래 코드를 통해 변경할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"flagForCommit"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" \n"},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"TestTransaction"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"flagForRollback"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"주의할 점"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"롤백되지 않는 경우"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"WebEnvironment"}]},{"type":"text","value":"의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RANDOM_PORT"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DEFINED_PORT"}]},{"type":"text","value":"를 사용하면 실제 테스트 서버는 별도의 스레드에서 테스트를 수행하기 때문에 트랜잭션이 롤백되지 않는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"는 롤백되지 않는다."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"주로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"insert"}]},{"type":"text","value":" 작업을 할 때 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id(식별자)"}]},{"type":"text","value":"가 자동으로 증가하도록  "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Auto Increment"}]},{"type":"text","value":" 옵션을 적용하곤 하는데,\n트랜잭션에 포함된 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"insert"}]},{"type":"text","value":" 작업으로 인해 증가한 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"는 트랜잭션이 롤백되어도 다시 감소하지 않는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Auto Increment"}]},{"type":"text","value":" 옵션은 트랜잭션의 범위 밖에서 동작하기 때문이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"트랜잭션 범위 안에서 동작하면 같이 롤백되고 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"도 순서대로 부여할 수 있기 때문에 편할 것 같은데 왜 그럴까? 바로 동시성 때문이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"여러 사람이 동시에 한 사이트에 회원가입을 하는 상황을 생각해보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각각 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"insert"}]},{"type":"text","value":" 문이 포함된 트랜잭션이 진행되는데, 중복된 아이디 혹은 올바르지 않은 양식의 아이디 입력 등 여러 요인으로 인해 트랜잭션이 실패할 수도 있고, 성공할 수도 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각 트랜잭션이 다른 사람의 회원 가입 트랜잭션 성공 여부를 기다렸다가 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"를 부여받기엔 얼마나 기다려야 될 지 모르는 일이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"따라서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Auto Increment"}]},{"type":"text","value":" 는 트랜잭션과 별개로 동작한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"결론"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"일련의 작업들을 묶어서 하나의 단위로 처리하고 싶다면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Transactional"}]},{"type":"text","value":"을 활용하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로덕션 환경과 테스트 환경 각각에서의 동작 방식을 유념하여 사용하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Reference"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/14758625/mysql-auto-increment-columns-on-transaction-commit-and-rollback"},"children":[{"type":"text","value":"https://stackoverflow.com/questions/14758625/mysql-auto-increment-columns-on-transaction-commit-and-rollback"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/transaction/TransactionalTestExecutionListener.html"},"children":[{"type":"text","value":"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/transaction/TransactionalTestExecutionListener.html"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.baeldung.com/spring-test-programmatic-transactions"},"children":[{"type":"text","value":"https://www.baeldung.com/spring-test-programmatic-transactions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://goddaehee.tistory.com/211"},"children":[{"type":"text","value":"https://goddaehee.tistory.com/211"}]}]}],"data":{"quirksMode":false}},"excerpt":"@Transactional…","timeToRead":2,"frontmatter":{"title":"Transactional 어노테이션","userDate":"26 April 2021","date":"2021-04-26T12:00:00.000Z","tags":["spring","transactional"],"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVR42pWSTUsbURSG83PERRfuRWhBcSGiVkSzkdRuoqKYicvuXGg3VbEW8SN2USq60ohSS4saOtFERxPjR8fMZzKTQOlfeHpnRIhViS7ezb3nPvc95z0Bw9S5lW5ouCWHXC7L9vYWlm1wnVfFnSVkCGlU1j+kQCXMsk0uLs+RpAg9wR76w0NEIhJy+ifFYgHLLKJXgd4B2gUL5eSYvrdvaGt9Tb/UxfhaA18Oulk76uNU3cG2PGi+OrCy5WTykPnlSZZTjXw9aWcnO86C/NLXpXYknNqPth/4/0DTVcruX5LqEtOJWtaPo3zLjDEvNzCz/4Lds0/Ypvuoy3tAr7BglcXDWT4m6pj7Vc+GMsqm8o6p/Rrk3zFKzh804/qpQA1TpHqlKSzKr4glm/mefc/KaSef003MLX3g8CCFW3ZEN/nqwFuXtuWQUX+wmg6JUIJMiHDCkS5aWzoIhXr98LwQvblXBd5IrJHp4DglUsoeQ4MjDISHCYp1kqJRzi9y/po9A3jj1Jeho+av/E/im3GyZxkct3gP5gH/Abs8oyCsSj4aAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/1c2beb9bc7336f2da34331643adaa83e/fbb8a/transactional.png","srcSet":"/static/1c2beb9bc7336f2da34331643adaa83e/1ce7f/transactional.png 750w,\n/static/1c2beb9bc7336f2da34331643adaa83e/fbb8a/transactional.png 768w","sizes":"100vw"},"sources":[{"srcSet":"/static/1c2beb9bc7336f2da34331643adaa83e/23cde/transactional.avif 750w,\n/static/1c2beb9bc7336f2da34331643adaa83e/33a26/transactional.avif 768w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/1c2beb9bc7336f2da34331643adaa83e/f5716/transactional.webp 750w,\n/static/1c2beb9bc7336f2da34331643adaa83e/736bf/transactional.webp 768w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.48046874999999994}}},"author":[{"name":"3기_파피","bio":"우아한테크코스 3기 파피(김태완)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181818","images":{"fallback":{"src":"/static/277b83483df394ce4c24651b32af4094/73bb6/fafi.jpg","srcSet":"/static/277b83483df394ce4c24651b32af4094/2f28c/fafi.jpg 40w,\n/static/277b83483df394ce4c24651b32af4094/499f6/fafi.jpg 80w,\n/static/277b83483df394ce4c24651b32af4094/73bb6/fafi.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/277b83483df394ce4c24651b32af4094/e73fe/fafi.webp 40w,\n/static/277b83483df394ce4c24651b32af4094/61ca6/fafi.webp 80w,\n/static/277b83483df394ce4c24651b32af4094/507b0/fafi.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}],"source":null}},"relatedPosts":{"totalCount":32,"edges":[{"node":{"id":"8a459858-1bca-5b40-bb2f-c8450cc8b5d6","timeToRead":5,"excerpt":"…","frontmatter":{"title":"@Configuration은 어떻게 빈을 등록하고, 싱글톤으로 관리할까?","date":"2023-06-28T12:00:00.000Z"},"fields":{"slug":"/post/2023-05-22-configuration/"}}},{"node":{"id":"9e041370-5677-52ea-ac38-aa071cd5cdd6","timeToRead":4,"excerpt":"콘솔 애플리케이션을 구현할 때, 우리는 예외를 핸들링하기 위해 try / catch…","frontmatter":{"title":"ExceptionHandler와 ControllerAdvice를 알아보자","date":"2023-05-21T12:00:00.000Z"},"fields":{"slug":"/post/2023-05-03-ExceptionHandler-ControllerAdvice/"}}},{"node":{"id":"68a8791f-9973-50b4-8c17-9a2edbe75c58","timeToRead":7,"excerpt":"상황 스모디 프로젝트를 하면서 랭킹 기능을 도입하기로 했습니다. 랭킹 기능은 유저가 활동을 했을 때, 활동에 따라 랭킹 점수를 부여해야 합니다. 저희 서비스는 챌린지에 도전하고 매일 챌린지에 해당하는 활동을 인증하여 총…","frontmatter":{"title":"스프링 이벤트 적용기","date":"2022-11-14T13:10:00.000Z"},"fields":{"slug":"/post/2022-11-14-spring-event/"}}},{"node":{"id":"895ac54c-c1c3-508d-b88a-7542dc458eb2","timeToRead":7,"excerpt":"…","frontmatter":{"title":"Spring에서 Server-Sent-Events 구현하기","date":"2022-10-11T12:00:00.000Z"},"fields":{"slug":"/post/2022-10-11-server-sent-events/"}}},{"node":{"id":"c209a85e-6260-50e5-b817-48f63e9796b4","timeToRead":5,"excerpt":"이 글은 웹 소켓으로 만든 채팅방을 어떻게 테스트할지 고민하는 독자를 위해 작성되었다. 웹 소켓은 어떻게 테스트하면 좋을까? Babble…","frontmatter":{"title":"웹 소켓에 대해 알아보자! - 테스트 편","date":"2021-11-10T12:00:00.000Z"},"fields":{"slug":"/post/2021-11-10-web-socket-test/"}}}]}},"pageContext":{"slug":"/post/2021-05-25-transactional/","prev":{"excerpt":"❗ 본 글은 Hook 개념이 없는 과거 리액트를 기준으로 쓰여진 글입니다. 리액트에서 과거에 자주 언급되고 활용되었던 패턴 중\n 라는 패턴이 있다. 처음 이 패턴을 소개한 Dan Abramov는 201…","timeToRead":3,"frontmatter":{"title":"presentational and container 패턴이란 무엇인가","tags":["refactoring"],"date":"2021-04-25T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcEBgn/xAAVAQEBAAAAAAAAAAAAAAAAAAAGB//aAAwDAQACEAMQAAAB06UzImzlcyipCot//8QAGhAAAwADAQAAAAAAAAAAAAAAAwQFAgYHAf/aAAgBAQABBQJ7aZuCk+ytEpguHexW5TAWaLzFAzOehSye/wD/xAAhEQADAQABBAIDAAAAAAAAAAABAgMEBQYREyEAEiIjMf/aAAgBAwEBPwHFxvSkuOjl2TTdrXwNXZpymVzVXl5GzXzSpXKJoamSzP5H9dXZaO5r09BqO0+b5dUZiVUwwkqD7+pICg9v53CgevQ+f//EAB4RAAMBAAICAwAAAAAAAAAAAAECBAMFBgARQXGB/9oACAECAQE/Abru6085tfJsYYFQ5yyT1rrKUdwXzpnpcJu2qhRvRpkzZp7MqB0zQ5do5Zc0XXr3ENoAAzLdSqkj5ClHI/Wb78//xAAmEAADAAEDAwQCAwAAAAAAAAABAgMEERIhAAUTFCIxQSNCJHGB/9oACAEBAAY/AjiRlhVziVlSRWFExtwGtKjY6Go10SX7kknhGHWXlvv2/wAbHSMnhK1aeoO+m1Y7qYzzc/kWWo8bDjjo5GB6KuMXYIaUvFx97XnSU3B0IPuRTzyOmzMXM7uKH9crLXNko8gqVC1kH5YD3eTcBwCB1XLbu3cVtR1eNEEBTDUUNHliuyuZzqp8VBzrMaDQ89DXO7wu1QnszFUHb96eH/P6A+fnr//EABoQAQEBAQEBAQAAAAAAAAAAAAERMSEAUWH/2gAIAQEAAT8hsu+VMlgD9iYjKK6CKWipLB2+cvZCnIE+UwKCuWHpS2s+cDEe0VHndhrXAJ6PKCG5J1RiHroVV//aAAwDAQACAAMAAAAQNB//xAAXEQEBAQEAAAAAAAAAAAAAAAABESEA/9oACAEDAQE/EB3zuGWwSYF6QrwwsyUQWpFoCD//xAAXEQEBAQEAAAAAAAAAAAAAAAABESEA/9oACAECAQE/EAOxmjckIhOsSAEbahBxAxVKrB//xAAXEAEBAQEAAAAAAAAAAAAAAAABESEA/9oACAEBAAE/EARRAd4nlqgg9+DC7fmiQMrtWH+XZ/MxoSUeg5C69G4RogiXSzGnrHagW0xCKI2CqLxhsAOTx//Z"},"images":{"fallback":{"src":"/static/7d7a5d013ec425eea01f4f21227863bf/878fe/presentational.jpg","srcSet":"/static/7d7a5d013ec425eea01f4f21227863bf/29171/presentational.jpg 750w,\n/static/7d7a5d013ec425eea01f4f21227863bf/02c02/presentational.jpg 1080w,\n/static/7d7a5d013ec425eea01f4f21227863bf/7ad22/presentational.jpg 1366w,\n/static/7d7a5d013ec425eea01f4f21227863bf/878fe/presentational.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/7d7a5d013ec425eea01f4f21227863bf/80ff3/presentational.webp 750w,\n/static/7d7a5d013ec425eea01f4f21227863bf/b1ee1/presentational.webp 1080w,\n/static/7d7a5d013ec425eea01f4f21227863bf/a89c1/presentational.webp 1366w,\n/static/7d7a5d013ec425eea01f4f21227863bf/cfa2c/presentational.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6520833333333333}}},"author":[{"name":"3기_미키","bio":"우아한테크코스 3기 미키(권세진)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAYIBAf/xAAVAQEBAAAAAAAAAAAAAAAAAAAFAv/aAAwDAQACEAMQAAABvtGyJbA3NSSBKP/EABwQAAEFAQEBAAAAAAAAAAAAAAECAwQFBgAHFf/aAAgBAQABBQI/LUJjNaeXc5tfNx1EaWtsnayHn/RJR//EACERAAICAAYDAQAAAAAAAAAAAAECAxEABAYSITEUIkFR/9oACAEDAQE/AZdBzbWfyIfUXtVZb47ruzXQ+nB0Bk3O+PMuEblQ8MpYA1wxEYBI/QBdXQusf//EACMRAAECBgAHAAAAAAAAAAAAAAECAwAEERIhMQcTFyJBcZH/2gAIAQIBAT8Bl+IiC4hHJcTcaXOKbCQTq44oK7PjcdQJlHa43K3pwqj7YFcZAKyR9PuP/8QAKRAAAgIABAUCBwAAAAAAAAAAAgMBBAAREhMFFCExQWGxBiIyNVGT0f/aAAgBAQAGPwL7hU/cMe+CyvU+n4cH99u/bviD54g1ROYHw/iW6uYMgkHAFNm2yJGcwktURlM98RLFrP0haIz6Z5dstXTz0iPXG/8AD9Ok/i1Gwm5TrPYyouyxeoWpaanJQ0dgzLl725ScwR1RnAMG3ZhfJHYuNa9CuIVICHGK9RDoccfNGmfqmfHjH//EABsQAQEBAAMBAQAAAAAAAAAAAAERIQAxQVGx/9oACAEBAAE/ITniHv6hzdGVa5C+Kvw0sDBzQswcCo++cAAOUsF9pUshGFDJVZdfSfZt+kRkXLgMd1MsCd+bu4D/2gAMAwEAAgADAAAAEB/P/8QAGREBAAMBAQAAAAAAAAAAAAAAAREhMUFR/9oACAEDAQE/EHXBZOiCAuhTgVxIjLkwMOxL8mf/xAAWEQEBAQAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QAMmZYLCMgiFqwoGGCFekoAGjFCIqV//EABsQAQEAAgMBAAAAAAAAAAAAAAERAEEhMVFx/9oACAEBAAE/EPB0FOm4/modSGFlUK8EqM1UJFCLvYRexghHcmzBDheXBVRQeBjKnKm9CFNLedAa4a1TqpeQrAYX/9k="},"images":{"fallback":{"src":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/f99ad/mickey.jpg","srcSet":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/6c918/mickey.jpg 750w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/49438/mickey.jpg 1080w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/f4534/mickey.jpg 1366w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/f99ad/mickey.jpg 1440w","sizes":"100vw"},"sources":[{"srcSet":"/static/fa7f6a0c3d11e8c67baa396cbd962e43/66907/mickey.webp 750w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/27610/mickey.webp 1080w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/90004/mickey.webp 1366w,\n/static/fa7f6a0c3d11e8c67baa396cbd962e43/bd9a0/mickey.webp 1440w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75}}}}]},"fields":{"layout":"post","slug":"/post/2021-04-26-presentational-and-container/"}},"next":{"excerpt":"방어적 복사 vs  Unmodifiable Collection…","timeToRead":4,"frontmatter":{"title":"방어적 복사와 Unmodifiable Collection","tags":["immutable","collection"],"date":"2021-04-26T12:00:00.000Z","draft":false,"excerpt":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVR42lWSZ0wTYRjHG0MMGgNIxIARRyKiRWIMQzQaMAomiAsUCMRYC0UJoAghdeACQSAFkSmoKaPtdZxQWsoqx1FZR3tddx3XQYuLiBA/+MVASPTKjMnz8f3l9/8/z0vhq/HVQTG+Bu8inJ2YBXR+xasaoVdv+t5zEUZey4952fMKlBoxzHwBF1eqUu+Yw2PsB0Ip66RAa+IhaG7ho/zyyg7MPDU6Mcq4j1yjIddpI7FJtk3exOEIQ9Ql7Fw8knZP/vqtpEO2CgMoBuLW7PSE7FhqeUEqZLSMKFFZCUvruU/q4d+d80A8oADhMR5uYf/8xbFNyzig8mbWhlmEW5nZyYN1jNnJD1pUNYKg0nZ+b0R0S1MbYHVyrE6uySb52D2RWWCKiMHPXoWLq9ZgNVnYQMY2IkJJ1e3CZy/tU04QFHf2DUhn5wXwOFTEwiLjiOBTqhuZ3Xwx12Qn/RuxRVoje1wTdCwk7Eigp9d2dkvbEKQQ1zZBt7LQwHDdyfODJVXCSW3b5xkuMeXakVK3CvOUOqnFGU9Pc9/mkZF9d6+/v99u/8rK6sldVE1AKCiTt87MkYxgUiecULvuskxRVgoLtcZ2RLufGlwnk5e1ch8ymW5ubvTHTyvymFgizRyXImfVAxhBNgcw838wmZmvMwMwlE5P7CSmWWCXl7c3hUK5QksDTLYWCBY8KdbFpeBnLsNFrKHSah5O8FV6F8xDMbHe9O33n+8Otc2qKOF3+fj6bnbfstPPL+rCRQnhAJS65hGkzWzvaQdntvo4Ao4CGuNKXkq7Uk/Mzv1dWlpcXDRMf9lz8NAOX9+GXoiezwwLPwFihEhvFiw/BbSGgZp3/Q1swbLWZSYzd2GEbXZuaWFBOvyJJZKEnI5s7Ieb+4YSklLoOblsxUQHbhXpzEKNgWNxcCzO9R/t6sxV6YVk5yFFKU/UACmCwo9HJ6fUD8JlYGdyekYSnVHTK6/tGWgdUwpJ55qWr8b/AUDY60WXsynyAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/e2b5b0c4877aa9d8e4fc1b170edb620d/cc10a/defensive-copy.jpg","srcSet":"/static/e2b5b0c4877aa9d8e4fc1b170edb620d/7284f/defensive-copy.jpg 750w,\n/static/e2b5b0c4877aa9d8e4fc1b170edb620d/cc10a/defensive-copy.jpg 855w","sizes":"100vw"},"sources":[{"srcSet":"/static/e2b5b0c4877aa9d8e4fc1b170edb620d/57584/defensive-copy.webp 750w,\n/static/e2b5b0c4877aa9d8e4fc1b170edb620d/523a7/defensive-copy.webp 855w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}}},"author":[{"name":"3기_파피","bio":"우아한테크코스 3기 파피(김태완)입니다 :)","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAUHCAkG/8QAFgEBAQEAAAAAAAAAAAAAAAAABgIF/9oADAMBAAIQAxAAAAHnpH3/AO2JNudbf5Ed2newWUQ4nS//xAAcEAACAgIDAAAAAAAAAAAAAAAFBgMEAQcAFSP/2gAIAQEAAQUCjMZH3O8FxR2PaYWs2KsxRLTRA7GjCJrmtVYQSXmFUXSzUT0akZtf/8QAIxEAAgIBBAEFAQAAAAAAAAAAAQIDBBEABRIhEwYiIzJBUf/aAAgBAwEBPwF9nvC5GfCiyTuavAxGy9YvH3J8TsFkWLyOA+I0TErOoKOHquruvtPF2GWYoxwcZZC4KH+r+HrW7TTR+p7rJLIhWtdKlXZSpTaGZCCCMFWAK4+pAI71Wu3GrwlrdkkxISTPKSTxHZPLs6//xAAiEQACAQQCAgMBAAAAAAAAAAABAgMEERIhAAUTUTFBQnH/2gAIAQIBAT8BTuOvljlhEjsEiSoNpDT+eNJbqjCRFbxNKEUlbu7XiEemVkrUKIRmBgulGSjQ0GxOQ9H7+edbGjdNDkiNeogByUG4avUMNj9DTexo8kp4BI4EMQAZrARp7/nP/8QAJRAAAgIBAwMFAQEAAAAAAAAAAgMBBAUREhMABhQhIiMxURVB/9oACAEBAAY/Al2hIx5AejlhrVMV5MBHMtqvkFitNwTEF6/5PV98Tds27CWVKOsiqahOZzHbMI3C6N8uiA3RJk2DMJ949MaWi5YW6QGCkRmfvSZKZ01/ZnT66qXaMhM02TTnIeLICxr06nElcbarJvlX5V0/agdkEcwZERrqZTyswvuC4bcnjqlrD02rOF2uKRu305VBwsiA2reFPYwpKKgsUM7ZyuO7q7NuV78zblh5sKZg6xPM5DKtusFhBoM5WQNjX01iZiY6zuZvBba+nPEtC8hepVTFSvJ+eKD6r3wZzowGWCXtiNoCWpT2VjLGIphVu43LZW746+KxbLG16YVaVi5622Y8Ocp4ebkmYH59sbeiJX9auBjBQldxDFhrr7QK1TsO2/kE0tOv/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFR/9oACAEBAAE/IVqkUGxVcrDob5kOHvSK7RgQQfivVwIaOj0Ja5Ark/exi5UAx6q/gMBCFlB0kmkG5eXS2sHsbyUIeBX84kG4TvMmcvpBaJGKg6oMNpgv8O8d/9oADAMBAAIAAwAAABC8B8L/xAAYEQEBAQEBAAAAAAAAAAAAAAABIQAxUf/aAAgBAwEBPxBhw06c6HUZysPQdFTVEHqgt4XOLtfQCzRoVAA5BnrwIoajVVVrv//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQAxUf/aAAgBAgEBPxCjzTVNTd1GN9pGOUnueOZKsxeol5gANNqUMBwtDOKTECAFAAgHw7//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhEDH/2gAIAQEAAT8QZyI6pGOLY4sD47Vunani3xZveUdtyZwQVWHz8X8Vihxm7FK1SBDWSl+iB7TagLhJYadcXM40EH2LuDPBgp6Hz4MmlT91VglhCN4hPkAu/9k="},"images":{"fallback":{"src":"/static/277b83483df394ce4c24651b32af4094/1ff76/fafi.jpg","srcSet":"/static/277b83483df394ce4c24651b32af4094/1ff76/fafi.jpg 720w","sizes":"100vw"},"sources":[{"srcSet":"/static/277b83483df394ce4c24651b32af4094/88c6b/fafi.webp 720w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]},"fields":{"layout":"post","slug":"/post/2021-04-26-defensive-copy-vs-unmodifiable/"}},"primaryTag":"spring"}},"staticQueryHashes":["2030843916","2337738035"],"slicesMap":{}}